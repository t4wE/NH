<script type="text/javascript">
// Get all images with class "myImg"
var images = document.getElementsByClassName("myImg");

// Loop through each image and attach event listener
for (var i = 0; i < images.length; i++) {
    var img = images[i];
    img.onclick = function() {
        // Get the modal and modal image
        var modal = document.getElementById("myModal");
        var modalImg = document.getElementById("img01");
        var captionText = document.getElementById("caption");

        // Set modal image and caption
        modalImg.src = this.src;
        captionText.innerHTML = this.alt;

        // Show modal
        modal.style.display = "block";
    }
}

// Get the close button and attach event listener
var span = document.getElementsByClassName("close")[0];
span.onclick = function() {
    var modal = document.getElementById("myModal");
    modal.style.display = "none";
}

// Add event listener to close modal on Esc key press
document.addEventListener("keydown", function(event) {
    var modal = document.getElementById("myModal");
    if (event.key === "Escape" && modal.style.display === "block") {
        modal.style.display = "none";
    }
});

// Add event listener to close modal when clicking outside
document.getElementById("myModal").addEventListener("click", function(event) {
    var modal = this;
    var modalContent = modal.querySelector(".modal-content");
    var caption = modal.querySelector("#caption");

    if (event.target !== modalContent && event.target !== caption && event.target.parentNode !== modalContent && event.target.parentNode !== caption) {
        modal.style.display = "none";
    }
});
</script>
<script type="text/javascript">
let slideIndex = 1;
let intervalId;

// Initialize slideshow without animation
showSlides(slideIndex, true);
startInterval(); // Start interval initially

// Next/previous controls
function plusSlides(n) {
    clearInterval(intervalId); // Clear existing interval
    showSlides(slideIndex += n);
    startInterval(); // Restart interval
}

// Thumbnail image controls
function currentSlide(n) {
    clearInterval(intervalId); // Clear existing interval
    showSlides(slideIndex = n);
    startInterval(); // Restart interval
}

function showSlides(n, reset = false) {
    let i;
    let slides = document.getElementsByClassName("mySlides");
    let dots = document.getElementsByClassName("dot");
    if (n > slides.length) { slideIndex = 1 }
    if (n < 1) { slideIndex = slides.length }
    for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
    }
    for (i = 0; i < dots.length; i++) {
        dots[i].className = dots[i].className.replace(" active", "");
    }
    slides[slideIndex - 1].style.display = "block";
    dots[slideIndex - 1].className += " active";

    // Skip animation during initial load
    if (reset) {
        slides[slideIndex - 1].style.animation = "none";
    } else {
        slides[slideIndex - 1].style.animation = ""; // Reset to default
    }
}

function startInterval() {
    intervalId = setInterval(function() {
        plusSlides(1);
    }, 10000);
}
</script>